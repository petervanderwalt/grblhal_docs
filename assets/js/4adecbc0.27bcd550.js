"use strict";(self.webpackChunkgrblhal=self.webpackChunkgrblhal||[]).push([[933],{1878:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>x,frontMatter:()=>r,metadata:()=>l,toc:()=>o});const l=JSON.parse('{"id":"Guides/vfd-spindle-setup","title":"VFD Spindle Setup","description":"grblHAL supports controlling VFD (Variable Frequency Drive) spindles directly via Modbus (RS485). This allows for precise RPM control, direction switching, and real-time status feedback (voltage, current, actual RPM) without using a simple 0-10V analog signal.","source":"@site/docs/05-Guides/vfd-spindle-setup.md","sourceDirName":"05-Guides","slug":"/Guides/vfd-spindle-setup","permalink":"/grblhal_docs/Guides/vfd-spindle-setup","draft":false,"unlisted":false,"editUrl":"https://github.com/PETERVANDERWALT/grblhal_docs/tree/main/docs/05-Guides/vfd-spindle-setup.md","tags":[],"version":"current","frontMatter":{"title":"VFD Spindle Setup"},"sidebar":"docsSidebar","previous":{"title":"Spindles & Lasers Setup","permalink":"/grblhal_docs/Guides/spindles-and-lasers"},"next":{"title":"Macros, Expressions & Flow Control","permalink":"/grblhal_docs/Advanced-Topics/macros-and-expressions"}}');var t=s(4848),i=s(8453);const r={title:"VFD Spindle Setup"},d="VFD Spindle Setup",c={},o=[{value:"Supported VFDs",id:"supported-vfds",level:2},{value:"1. Wiring (RS485)",id:"1-wiring-rs485",level:2},{value:"2. Firmware Compilation",id:"2-firmware-compilation",level:2},{value:"<strong>Example Configuration</strong>",id:"example-configuration",level:3},{value:"3. grblHAL Configuration",id:"3-grblhal-configuration",level:2},{value:"<strong>Step A: Configure Modbus Communication</strong>",id:"step-a-configure-modbus-communication",level:3},{value:"<strong>Step B: Bind the Spindle</strong>",id:"step-b-bind-the-spindle",level:3},{value:"<strong>Step C: Set Modbus Address</strong>",id:"step-c-set-modbus-address",level:3},{value:"<strong>Step D: Generic ModVFD Configuration</strong>",id:"step-d-generic-modvfd-configuration",level:3},{value:"4. VFD-Specific Settings (Examples)",id:"4-vfd-specific-settings-examples",level:2},{value:"<strong>1. Huanyang (SL Series)</strong>",id:"1-huanyang-sl-series",level:4},{value:"<strong>2. H-100 VFD</strong>",id:"2-h-100-vfd",level:4},{value:"<strong>3. PwnCNC VFD</strong>",id:"3-pwncnc-vfd",level:4},{value:"<strong>4. GS20 / YL-620A</strong>",id:"4-gs20--yl-620a",level:4},{value:"5. Spindle Offsets (Laser/Dual Tool)",id:"5-spindle-offsets-laserdual-tool",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"<strong>&quot;Error: Spindle not responding&quot;</strong>",id:"error-spindle-not-responding",level:3},{value:"<strong>Spindle Runs Backward</strong>",id:"spindle-runs-backward",level:3},{value:"<strong>Alarm 14: Spindle at Speed Timeout</strong>",id:"alarm-14-spindle-at-speed-timeout",level:3},{value:"<strong>Error 19: Modbus Exception</strong>",id:"error-19-modbus-exception",level:3}];function h(e){const n={admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"vfd-spindle-setup",children:"VFD Spindle Setup"})}),"\n",(0,t.jsx)(n.p,{children:"grblHAL supports controlling VFD (Variable Frequency Drive) spindles directly via Modbus (RS485). This allows for precise RPM control, direction switching, and real-time status feedback (voltage, current, actual RPM) without using a simple 0-10V analog signal."}),"\n",(0,t.jsx)(n.h2,{id:"supported-vfds",children:"Supported VFDs"}),"\n",(0,t.jsxs)(n.p,{children:["The following VFDs are supported by the ",(0,t.jsx)(n.code,{children:"plugins/spindle/vfd"})," modules:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Huanyang"})," (SL series and others using the common protocol)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"H-100"})," (Common cheap VFDs)"]}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"GS20"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"YL-620"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Nowforever"})}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"ModVFD"})," (Generic configurable driver)"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"1-wiring-rs485",children:"1. Wiring (RS485)"}),"\n",(0,t.jsx)(n.p,{children:"To connect a VFD, you nominally need an RS485 module connected to your microcontroller's UART pins."}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{style:{textAlign:"left"},children:"RS485 Module"}),(0,t.jsx)(n.th,{style:{textAlign:"left"},children:"VFD Terminal"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"left"},children:(0,t.jsx)(n.strong,{children:"A+"})}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:"RS+ / A+ / 485+"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"left"},children:(0,t.jsx)(n.strong,{children:"B-"})}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:"RS- / B- / 485-"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"left"},children:(0,t.jsx)(n.strong,{children:"GND"})}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:"GND / COM"})]})]})]}),"\n",(0,t.jsx)(n.admonition,{title:"Wiring Best Practices",type:"tip",children:(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Use ",(0,t.jsx)(n.strong,{children:"twisted pair"})," cable for A and B."]}),"\n",(0,t.jsxs)(n.li,{children:["Use ",(0,t.jsx)(n.strong,{children:"shielded cable"}),", grounding the shield at the controller side only."]}),"\n",(0,t.jsx)(n.li,{children:"RS485 is sensitive to noise; keep it away from the main spindle power cables."}),"\n",(0,t.jsx)(n.li,{children:"If communication fails, try swapping A and B lines (labeling varies by manufacturer)."}),"\n"]})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"2-firmware-compilation",children:"2. Firmware Compilation"}),"\n",(0,t.jsx)(n.p,{children:"VFD support is enabled by defining the spindle type for a specific spindle slot (0-3). Use the following IDs:"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{style:{textAlign:"left"},children:"ID"}),(0,t.jsx)(n.th,{style:{textAlign:"left"},children:"VFD Type"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"left"},children:(0,t.jsx)(n.strong,{children:"1"})}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:"Huanyang (SL Series)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"left"},children:(0,t.jsx)(n.strong,{children:"3"})}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:"GS20"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"left"},children:(0,t.jsx)(n.strong,{children:"4"})}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:"YL-620A"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"left"},children:(0,t.jsx)(n.strong,{children:"5"})}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:"ModVFD (Generic Configurable)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"left"},children:(0,t.jsx)(n.strong,{children:"6"})}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:"H-100"})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"example-configuration",children:(0,t.jsx)(n.strong,{children:"Example Configuration"})}),"\n",(0,t.jsxs)(n.p,{children:["In your map file or CMake configuration (e.g., ",(0,t.jsx)(n.code,{children:"my_machine.h"}),"), assign the ID to a spindle enable slot:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-c",children:"// Example: Spindle 0 is PWM, Spindle 1 is Huanyang\r\n#define SPINDLE0_ENABLE 11  // PWM Spindle\r\n#define SPINDLE1_ENABLE 1   // Huanyang VFD\r\n#define SPINDLE_OFFSET  1   // Enable Offset Plugin\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"3-grblhal-configuration",children:"3. grblHAL Configuration"}),"\n",(0,t.jsx)(n.p,{children:"Once flashed, you must tell grblHAL which spindle is the VFD and how to talk to it."}),"\n",(0,t.jsx)(n.h3,{id:"step-a-configure-modbus-communication",children:(0,t.jsx)(n.strong,{children:"Step A: Configure Modbus Communication"})}),"\n",(0,t.jsx)(n.p,{children:"Before binding a spindle, ensure grblHAL talks the same language as your VFD."}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{style:{textAlign:"left"},children:"Setting"}),(0,t.jsx)(n.th,{style:{textAlign:"left"},children:"Description"}),(0,t.jsx)(n.th,{style:{textAlign:"left"},children:"Common Value"}),(0,t.jsx)(n.th,{style:{textAlign:"left"},children:"Notes"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"left"},children:(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"$374"})})}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:(0,t.jsx)(n.strong,{children:"Baud Rate"})}),(0,t.jsxs)(n.td,{style:{textAlign:"left"},children:[(0,t.jsx)(n.code,{children:"19200"})," (Index 1)"]}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:"Most VFDs default to 19200. Check manual (e.g., PD164/F164)."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"left"},children:(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"$375"})})}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:(0,t.jsx)(n.strong,{children:"Timeout (ms)"})}),(0,t.jsxs)(n.td,{style:{textAlign:"left"},children:[(0,t.jsx)(n.code,{children:"50"})," - ",(0,t.jsx)(n.code,{children:"200"})]}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:"Increase if you get sporadic communication errors."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"left"},children:(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"$681"})})}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:(0,t.jsx)(n.strong,{children:"Serial Format"})}),(0,t.jsxs)(n.td,{style:{textAlign:"left"},children:[(0,t.jsx)(n.code,{children:"0"})," (8N1)"]}),(0,t.jsxs)(n.td,{style:{textAlign:"left"},children:[(0,t.jsx)(n.code,{children:"1"}),"=8E1, ",(0,t.jsx)(n.code,{children:"2"}),"=8O1. (Default: 0/8N1)."]})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"step-b-bind-the-spindle",children:(0,t.jsx)(n.strong,{children:"Step B: Bind the Spindle"})}),"\n",(0,t.jsx)(n.p,{children:"Use the following settings to map the VFD to a Spindle ID."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"$395"})}),": Selects the ",(0,t.jsx)(n.strong,{children:"Primary Spindle"})," type."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"$511"})}),": Selects ",(0,t.jsx)(n.strong,{children:"Spindle 1"})," (Secondary)."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"$512"})}),": Selects ",(0,t.jsx)(n.strong,{children:"Spindle 2"})," (Tertiary)."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsxs)(n.em,{children:["Use ",(0,t.jsx)(n.code,{children:"$SPINDLES"})," to verify which ID corresponds to your VFD."]})}),"\n",(0,t.jsx)(n.h3,{id:"step-c-set-modbus-address",children:(0,t.jsx)(n.strong,{children:"Step C: Set Modbus Address"})}),"\n",(0,t.jsxs)(n.p,{children:["The VFD must have a Modbus address set in its own front panel parameters (usually ",(0,t.jsx)(n.code,{children:"PD002"})," or similar). grblHAL needs to match this."]}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{style:{textAlign:"left"},children:"Setting"}),(0,t.jsx)(n.th,{style:{textAlign:"left"},children:"Description"}),(0,t.jsx)(n.th,{style:{textAlign:"left"},children:"Default"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"left"},children:(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"$476"})})}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:"Address for Spindle 0"}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:"1"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"left"},children:(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"$477"})})}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:"Address for Spindle 1"}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:"2"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"left"},children:(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"$478"})})}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:"Address for Spindle 2"}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:"3"})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"step-d-generic-modvfd-configuration",children:(0,t.jsx)(n.strong,{children:"Step D: Generic ModVFD Configuration"})}),"\n",(0,t.jsxs)(n.p,{children:["If you are using the ",(0,t.jsx)(n.strong,{children:"ModVFD"}),' driver (ID 5) for a VFD that doesn\'t have a native driver, you must map the grblHAL settings to your VFD\'s Modbus registers. Consult your VFD manual\'s "Communication" or "Modbus" section.']}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{style:{textAlign:"left"},children:"Setting"}),(0,t.jsx)(n.th,{style:{textAlign:"left"},children:"Description"}),(0,t.jsx)(n.th,{style:{textAlign:"left"},children:"Default"}),(0,t.jsx)(n.th,{style:{textAlign:"left"},children:"Notes"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"left"},children:(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"$462"})})}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:(0,t.jsx)(n.strong,{children:"Control Register"})}),(0,t.jsxs)(n.td,{style:{textAlign:"left"},children:[(0,t.jsx)(n.code,{children:"8192"})," (0x2000)"]}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:"The register address to write Run/Stop commands to."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"left"},children:(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"$463"})})}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:(0,t.jsx)(n.strong,{children:"Set Frequency Register"})}),(0,t.jsxs)(n.td,{style:{textAlign:"left"},children:[(0,t.jsx)(n.code,{children:"8193"})," (0x2001)"]}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:"The register to write the target frequency/RPM to."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"left"},children:(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"$464"})})}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:(0,t.jsx)(n.strong,{children:"Get Frequency Register"})}),(0,t.jsxs)(n.td,{style:{textAlign:"left"},children:[(0,t.jsx)(n.code,{children:"8451"})," (0x2103)"]}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:"The register to read the actual current frequency/RPM from."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"left"},children:(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"$465"})})}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:(0,t.jsx)(n.strong,{children:"Command: Run CW"})}),(0,t.jsxs)(n.td,{style:{textAlign:"left"},children:[(0,t.jsx)(n.code,{children:"18"})," (0x12)"]}),(0,t.jsxs)(n.td,{style:{textAlign:"left"},children:["The value to write to ",(0,t.jsx)(n.code,{children:"$462"})," to start Forward motion."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"left"},children:(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"$466"})})}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:(0,t.jsx)(n.strong,{children:"Command: Run CCW"})}),(0,t.jsxs)(n.td,{style:{textAlign:"left"},children:[(0,t.jsx)(n.code,{children:"34"})," (0x22)"]}),(0,t.jsxs)(n.td,{style:{textAlign:"left"},children:["The value to write to ",(0,t.jsx)(n.code,{children:"$462"})," to start Reverse motion."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"left"},children:(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"$467"})})}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:(0,t.jsx)(n.strong,{children:"Command: Stop"})}),(0,t.jsxs)(n.td,{style:{textAlign:"left"},children:[(0,t.jsx)(n.code,{children:"1"})," (0x01)"]}),(0,t.jsxs)(n.td,{style:{textAlign:"left"},children:["The value to write to ",(0,t.jsx)(n.code,{children:"$462"})," to Stop."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"left"},children:(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"$468"})})}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:(0,t.jsx)(n.strong,{children:"RPM Prog Multiplier"})}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:(0,t.jsx)(n.code,{children:"50"})}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:"Used to scale RPM to VFD units."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"left"},children:(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"$469"})})}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:(0,t.jsx)(n.strong,{children:"RPM Prog Divider"})}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:(0,t.jsx)(n.code,{children:"60"})}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:(0,t.jsx)(n.code,{children:"Value = (RPM * Mutliplier) / Divider"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"left"},children:(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"$470"})})}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:(0,t.jsx)(n.strong,{children:"RPM Read Multiplier"})}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:(0,t.jsx)(n.code,{children:"60"})}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:"Used to scale VFD units back to RPM."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"left"},children:(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"$471"})})}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:(0,t.jsx)(n.strong,{children:"RPM Read Divider"})}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:(0,t.jsx)(n.code,{children:"100"})}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:(0,t.jsx)(n.code,{children:"RPM = (Value * Multiplier) / Divider"})})]})]})]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"4-vfd-specific-settings-examples",children:"4. VFD-Specific Settings (Examples)"}),"\n",(0,t.jsx)(n.p,{children:"Different VFDs require different handling. Identify yours below."}),"\n",(0,t.jsx)(n.h4,{id:"1-huanyang-sl-series",children:(0,t.jsx)(n.strong,{children:"1. Huanyang (SL Series)"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Driver ID:"})," ",(0,t.jsx)(n.code,{children:"1"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"VFD Panel Settings:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"PD001"})," = ",(0,t.jsx)(n.code,{children:"2"})," (Source of Run Commands: Comm Port)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"PD002"})," = ",(0,t.jsx)(n.code,{children:"2"})," (Source of Operating Frequency: Comm Port)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"PD163"})," = ",(0,t.jsx)(n.code,{children:"1"})," (Comm Address, matches ",(0,t.jsx)(n.code,{children:"$476"}),")"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"PD164"})," = ",(0,t.jsx)(n.code,{children:"2"})," (Baud Rate: 19200 - Common Default)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"PD165"})," = ",(0,t.jsx)(n.code,{children:"3"})," (Data Format: 8N1 RTU)"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"2-h-100-vfd",children:(0,t.jsx)(n.strong,{children:"2. H-100 VFD"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Driver ID:"})," ",(0,t.jsx)(n.code,{children:"6"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"VFD Panel Settings:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"F001"})," = ",(0,t.jsx)(n.code,{children:"2"})," (Control Mode: Comm)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"F002"})," = ",(0,t.jsx)(n.code,{children:"2"})," (Frequency Mode: Comm)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"F163"})," = ",(0,t.jsx)(n.code,{children:"1"})," (Slave Address)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"F164"})," = ",(0,t.jsx)(n.code,{children:"2"})," (19200 Baud -  Common Default)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"F165"})," = ",(0,t.jsx)(n.code,{children:"3"})," (Data Format: 8N1)"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"3-pwncnc-vfd",children:(0,t.jsx)(n.strong,{children:"3. PwnCNC VFD"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Driver ID:"})," ",(0,t.jsx)(n.code,{children:"5"})," (ModVFD)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"grblHAL Manual Register Mapping:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"$395"})," = (Select ModVFD ID)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"$462"})," = ",(0,t.jsx)(n.code,{children:"40960"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"$463"})," = ",(0,t.jsx)(n.code,{children:"40961"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"$464"})," = ",(0,t.jsx)(n.code,{children:"36864"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"$465"})," = ",(0,t.jsx)(n.code,{children:"1"})," (CW)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"$466"})," = ",(0,t.jsx)(n.code,{children:"2"})," (CCW)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"$467"})," = ",(0,t.jsx)(n.code,{children:"6"})," (Stop)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"$468"})," = ",(0,t.jsx)(n.code,{children:"25"})]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"VFD Panel Settings (Auto Mode):"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"P0.0.03"})," = ",(0,t.jsx)(n.code,{children:"2"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"P0.0.04"})," = ",(0,t.jsx)(n.code,{children:"9"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"P4.1.00"})," = ",(0,t.jsx)(n.code,{children:"04"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"P4.1.01"})," = ",(0,t.jsx)(n.code,{children:"4"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"4-gs20--yl-620a",children:(0,t.jsx)(n.strong,{children:"4. GS20 / YL-620A"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Driver ID:"})," ",(0,t.jsx)(n.code,{children:"3"})," (GS20) or ",(0,t.jsx)(n.code,{children:"4"})," (YL-620A)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Settings:"})," ",(0,t.jsx)(n.code,{children:"$461"}),": RPM to Hz ratio. (Default: 60)."]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"5-spindle-offsets-laserdual-tool",children:"5. Spindle Offsets (Laser/Dual Tool)"}),"\n",(0,t.jsxs)(n.p,{children:["If using the VFD as a primary spindle and a laser as secondary, you can configure physical offsets if the ",(0,t.jsx)(n.code,{children:"spindle_laser_offset"})," plugin is enabled."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"$770"})}),": Laser X Offset (mm)."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"$771"})}),": Laser Y Offset (mm)."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"$772"})}),": Offset Options (Update G92 vs. Keep Position)."]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,t.jsx)(n.h3,{id:"error-spindle-not-responding",children:(0,t.jsx)(n.strong,{children:'"Error: Spindle not responding"'})}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Check Baud Rate:"})," standard grblHAL VFD plugins usually default to 9600 or 19200. Check the source (",(0,t.jsx)(n.code,{children:"init"})," function) or your VFD manual."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Swap lines:"})," A/B signaling is often mislabeled. Swap them and retry."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Ground:"})," Ensure common ground between VFD control board and CNC controller."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"spindle-runs-backward",children:(0,t.jsx)(n.strong,{children:"Spindle Runs Backward"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Swap any two of the three uvw phase wires connecting the VFD to the motor. Do ",(0,t.jsx)(n.strong,{children:"not"})," swap input power wires."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"alarm-14-spindle-at-speed-timeout",children:(0,t.jsx)(n.strong,{children:"Alarm 14: Spindle at Speed Timeout"})}),"\n",(0,t.jsx)(n.p,{children:"This alarm triggers if the spindle takes too long to reach the target RPM."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Increase Timeout:"})," Check your ",(0,t.jsx)(n.strong,{children:"Spindle at Speed Timeout"})," setting (often ",(0,t.jsx)(n.code,{children:"$339"}),"). VFDs ramp up slowly; increase this value."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Increase On Delay:"})," Increase ",(0,t.jsx)(n.code,{children:"$394"})," (Spindle On Delay) if not using at-speed feedback."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Check Feedback:"}),' If using "at-speed" feedback (e.g., encoder or VFD register), ensure the signal is valid.']}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"error-19-modbus-exception",children:(0,t.jsx)(n.strong,{children:"Error 19: Modbus Exception"})}),"\n",(0,t.jsx)(n.p,{children:"The VFD received a command it rejected, or communication failed entirely."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"VFD Not Ready:"})," The VFD may still be booting up or not powered on."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Modbus Disconnected:"})," Check for broken wires or loose terminals on the RS485 wiring."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Wiring Noise:"})," Electrical noise can corrupt packets. Use shielded twisted pair cable."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Check Baud Rate:"})," Verify ",(0,t.jsx)(n.code,{children:"$374"})," matches the VFD."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Check State:"}),' The VFD might be in a fault state or "Local" mode, rejecting remote commands.']}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Check IDs:"})," Ensure the VFD Modbus ID matches ",(0,t.jsx)(n.code,{children:"$476"})," (or ",(0,t.jsx)(n.code,{children:"$460"}),")."]}),"\n"]})]})}function x(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>d});var l=s(6540);const t={},i=l.createContext(t);function r(e){const n=l.useContext(i);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),l.createElement(i.Provider,{value:n},e.children)}}}]);