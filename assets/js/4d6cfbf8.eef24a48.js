"use strict";(self.webpackChunkgrblhal=self.webpackChunkgrblhal||[]).push([[496],{2093:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>a,frontMatter:()=>r,metadata:()=>t,toc:()=>h});const t=JSON.parse('{"id":"Machine-Calibration/configuring-homing","title":"Configuring Homing","description":"This guide covers the practical steps to enable and configure the homing cycle on your machine. For a theoretical explanation of how homing works, see Homing Explained.","source":"@site/docs/03-Machine-Calibration/04-configuring-homing.md","sourceDirName":"03-Machine-Calibration","slug":"/Machine-Calibration/configuring-homing","permalink":"/grblhal_docs/Machine-Calibration/configuring-homing","draft":false,"unlisted":false,"editUrl":"https://github.com/PETERVANDERWALT/grblhal_docs/tree/main/docs/03-Machine-Calibration/04-configuring-homing.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"title":"Configuring Homing"},"sidebar":"docsSidebar","previous":{"title":"Tuning Motion Settings","permalink":"/grblhal_docs/Machine-Calibration/tuning-motion"},"next":{"title":"Backlash Compensation","permalink":"/grblhal_docs/Machine-Calibration/backlash-compensation"}}');var l=i(4848),s=i(8453);const r={title:"Configuring Homing"},o="Configuring Homing",c={},h=[{value:"Step 1: Enable Homing",id:"step-1-enable-homing",level:2},{value:"Step 2: Set Homing Direction (<code>$23</code>)",id:"step-2-set-homing-direction-23",level:2},{value:"Step 3: Configure Switch Type (<code>$5</code>)",id:"step-3-configure-switch-type-5",level:2},{value:"Step 4: Fine Tuning",id:"step-4-fine-tuning",level:2},{value:"<strong>Homing Search Rate (<code>$25</code>)</strong>",id:"homing-search-rate-25",level:3},{value:"<strong>Homing Locate Rate (<code>$24</code>)</strong>",id:"homing-locate-rate-24",level:3},{value:"<strong>Homing Pull-off (<code>$27</code>)</strong>",id:"homing-pull-off-27",level:3},{value:"Troubleshooting Homing",id:"troubleshooting-homing",level:2},{value:"<strong>Machine moves wrong way</strong>",id:"machine-moves-wrong-way",level:3},{value:"<strong>Alarm 8: Homing Fail</strong>",id:"alarm-8-homing-fail",level:3},{value:"<strong>Alarm 9: Homing Fail</strong>",id:"alarm-9-homing-fail",level:3}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"configuring-homing",children:"Configuring Homing"})}),"\n",(0,l.jsxs)(n.p,{children:["This guide covers the practical steps to enable and configure the homing cycle on your machine. For a theoretical explanation of how homing works, see ",(0,l.jsx)(n.a,{href:"/grblhal_docs/Core-Concepts/homing-explained",children:"Homing Explained"}),"."]}),"\n",(0,l.jsx)(n.h2,{id:"step-1-enable-homing",children:"Step 1: Enable Homing"}),"\n",(0,l.jsx)(n.p,{children:"By default, homing is disabled. To enable it:"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["Send ",(0,l.jsx)(n.code,{children:"$22=1"})," in the console."]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Note:"})," Once enabled, grblHAL will likely lock the machine upon startup (Alarm 1) until you perform a homing cycle (",(0,l.jsx)(n.code,{children:"$H"}),")."]}),"\n",(0,l.jsxs)(n.h2,{id:"step-2-set-homing-direction-23",children:["Step 2: Set Homing Direction (",(0,l.jsx)(n.code,{children:"$23"}),")"]}),"\n",(0,l.jsx)(n.p,{children:"This is the most critical step. You must tell grblHAL which direction to move to find the switches."}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Default Behavior:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Z axis moves ",(0,l.jsx)(n.strong,{children:"UP"})," (Positive)"]}),"\n",(0,l.jsxs)(n.li,{children:["X axis moves ",(0,l.jsx)(n.strong,{children:"RIGHT"})," (Positive)"]}),"\n",(0,l.jsxs)(n.li,{children:["Y axis moves ",(0,l.jsx)(n.strong,{children:"BACK"})," (Positive)"]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["If your switches are in the opposite location (e.g., front-left), you must invert the search direction using ",(0,l.jsx)(n.code,{children:"$23"}),"."]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"To find the correct value:"})}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Determine where your switches are physically located."}),"\n",(0,l.jsx)(n.li,{children:"Toggle the bits for the axes you need to invert."}),"\n",(0,l.jsx)(n.li,{children:"Use the table below:"}),"\n"]}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsxs)(n.th,{style:{textAlign:"left"},children:["Value (",(0,l.jsx)(n.code,{children:"$23="}),")"]}),(0,l.jsx)(n.th,{style:{textAlign:"left"},children:"X Direction"}),(0,l.jsx)(n.th,{style:{textAlign:"left"},children:"Y Direction"}),(0,l.jsx)(n.th,{style:{textAlign:"left"},children:"Z Direction"}),(0,l.jsx)(n.th,{style:{textAlign:"left"},children:"Typical Setup For"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsxs)(n.td,{style:{textAlign:"left"},children:[(0,l.jsx)(n.strong,{children:"0"})," (Default)"]}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"+ (Right)"}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"+ (Back)"}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"+ (Up)"}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"Standard CNC (Back-Right-Top)"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.strong,{children:"1"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"- (Left)"}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"+ (Back)"}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"+ (Up)"}),(0,l.jsx)(n.td,{style:{textAlign:"left"}})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.strong,{children:"3"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"- (Left)"}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"- (Front)"}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"+ (Up)"}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"Front-Left Origin (Common on Lasers)"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.strong,{children:"7"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"- (Left)"}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"- (Front)"}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"- (Down)"}),(0,l.jsx)(n.td,{style:{textAlign:"left"}})]})]})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Test carefully:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Be ready to hit E-Stop!"}),"\n",(0,l.jsxs)(n.li,{children:["Send ",(0,l.jsx)(n.code,{children:"$H"})]}),"\n",(0,l.jsxs)(n.li,{children:["If an axis moves the wrong way, reset, change ",(0,l.jsx)(n.code,{children:"$23"}),", and try again."]}),"\n"]}),"\n",(0,l.jsxs)(n.h2,{id:"step-3-configure-switch-type-5",children:["Step 3: Configure Switch Type (",(0,l.jsx)(n.code,{children:"$5"}),")"]}),"\n",(0,l.jsxs)(n.p,{children:["Are your limit switches ",(0,l.jsx)(n.strong,{children:"Normally Open (NO)"})," or ",(0,l.jsx)(n.strong,{children:"Normally Closed (NC)"}),"?"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"$5=0"})," (Default): Normally Open (NO). Signal is HIGH when triggered."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"$5=..."}),": Invert specific axes where switches are Normally Closed (NC) or logically inverted."]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["Unlike 8-bit Grbl, ",(0,l.jsxs)(n.strong,{children:["grblHAL uses a bitmask for ",(0,l.jsx)(n.code,{children:"$5"})]}),", meaning you can invert limit pins ",(0,l.jsx)(n.strong,{children:"per axis"}),"."]}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Axis"}),(0,l.jsx)(n.th,{children:"Bit Value"}),(0,l.jsx)(n.th,{children:"Description"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"X"}),(0,l.jsx)(n.td,{children:"1"}),(0,l.jsx)(n.td,{children:"Invert X limit input"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Y"}),(0,l.jsx)(n.td,{children:"2"}),(0,l.jsx)(n.td,{children:"Invert Y limit input"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Z"}),(0,l.jsx)(n.td,{children:"4"}),(0,l.jsx)(n.td,{children:"Invert Z limit input"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"A"}),(0,l.jsx)(n.td,{children:"8"}),(0,l.jsx)(n.td,{children:"Invert A limit input"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"B"}),(0,l.jsx)(n.td,{children:"16"}),(0,l.jsx)(n.td,{children:"Invert B limit input"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"C"}),(0,l.jsx)(n.td,{children:"32"}),(0,l.jsx)(n.td,{children:"Invert C limit input"})]})]})]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Example:"})," To invert X and Y but keep Z normal: Add 1 + 2 = ",(0,l.jsx)(n.strong,{children:(0,l.jsx)(n.code,{children:"$5=3"})}),"."]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Recommendation:"})," Use ",(0,l.jsx)(n.strong,{children:"Normally Closed (NC)"})," switches if possible. They are safer because a broken wire will trigger the alarm immediately, rather than failing silently."]}),"\n",(0,l.jsx)(n.h2,{id:"step-4-fine-tuning",children:"Step 4: Fine Tuning"}),"\n",(0,l.jsx)(n.h3,{id:"homing-search-rate-25",children:(0,l.jsxs)(n.strong,{children:["Homing Search Rate (",(0,l.jsx)(n.code,{children:"$25"}),")"]})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:'Speed at which the machine "seeks" the switch initially.'}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Default:"})," 500 mm/min"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Tune:"})," Make it fast enough to be convenient, but slow enough to not crash hard into the switch."]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"homing-locate-rate-24",children:(0,l.jsxs)(n.strong,{children:["Homing Locate Rate (",(0,l.jsx)(n.code,{children:"$24"}),")"]})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Speed for the second, precise touch-off."}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Default:"})," 25 mm/min"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Tune:"})," Keep this slow for maximum repeatability."]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"homing-pull-off-27",children:(0,l.jsxs)(n.strong,{children:["Homing Pull-off (",(0,l.jsx)(n.code,{children:"$27"}),")"]})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Distance the machine backs away from the switch after triggering it."}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Default:"})," 1.0 mm"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Tune:"})," If your switch stays triggered (Alarm 8), increase this to ",(0,l.jsx)(n.code,{children:"2.0"})," or ",(0,l.jsx)(n.code,{children:"5.0"})," mm. It must back off enough to clear the internal switch mechanism."]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"troubleshooting-homing",children:"Troubleshooting Homing"}),"\n",(0,l.jsx)(n.h3,{id:"machine-moves-wrong-way",children:(0,l.jsx)(n.strong,{children:"Machine moves wrong way"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Adjust ",(0,l.jsx)(n.code,{children:"$23"})," (Homing Direction Invert)."]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"alarm-8-homing-fail",children:(0,l.jsx)(n.strong,{children:"Alarm 8: Homing Fail"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["The switch did not clear after pull-off. Increase ",(0,l.jsx)(n.code,{children:"$27"})," (Pull-off distance)."]}),"\n",(0,l.jsx)(n.li,{children:"Or, interference/noise on the switch line."}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"alarm-9-homing-fail",children:(0,l.jsx)(n.strong,{children:"Alarm 9: Homing Fail"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["The switch was not found within the expected distance (",(0,l.jsx)(n.code,{children:"$130"}),", ",(0,l.jsx)(n.code,{children:"$131"}),", ",(0,l.jsx)(n.code,{children:"$132"})," max travel settings)."]}),"\n",(0,l.jsx)(n.li,{children:"Ensure your Max Travel settings are accurate or slightly larger than physical travel."}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Next Step:"})," With homing set, let's squeeze the last bit of precision out of your mechanics: ",(0,l.jsx)(n.a,{href:"/grblhal_docs/Machine-Calibration/backlash-compensation",children:"Backlash Compensation"})]})]})}function a(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>o});var t=i(6540);const l={},s=t.createContext(l);function r(e){const n=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:r(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);