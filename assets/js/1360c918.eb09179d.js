"use strict";(self.webpackChunkgrblhal=self.webpackChunkgrblhal||[]).push([[894],{6697:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>d,contentTitle:()=>t,default:()=>a,frontMatter:()=>l,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"Vendors/creating_profiles","title":"Creating Vendor Profiles","description":"A guide for CNC vendors to create machine profiles for the grblHAL Web Builder.","source":"@site/docs/07-Vendors/creating_profiles.md","sourceDirName":"07-Vendors","slug":"/Vendors/creating_profiles","permalink":"/grblhal_docs/Vendors/creating_profiles","draft":false,"unlisted":false,"editUrl":"https://github.com/PETERVANDERWALT/grblhal_docs/tree/main/docs/07-Vendors/creating_profiles.md","tags":[],"version":"current","frontMatter":{"title":"Creating Vendor Profiles","description":"A guide for CNC vendors to create machine profiles for the grblHAL Web Builder."},"sidebar":"docsSidebar","previous":{"title":"Sender Developer Guide","permalink":"/grblhal_docs/Advanced-Topics/sender-interface"},"next":{"title":"Troubleshooting Guide","permalink":"/grblhal_docs/troubleshooting"}}');var s=n(4848),o=n(8453);const l={title:"Creating Vendor Profiles",description:"A guide for CNC vendors to create machine profiles for the grblHAL Web Builder."},t="Creating Vendor Profiles",d={},c=[{value:"Overview",id:"overview",level:2},{value:"1. Directory Structure",id:"1-directory-structure",level:2},{value:"Reference Implementation",id:"reference-implementation",level:3},{value:"2. The Index File (<code>profiles.json</code>)",id:"2-the-index-file-profilesjson",level:2},{value:"3. Machine Profile JSON",id:"3-machine-profile-json",level:2},{value:"Symbols vs. Defaults",id:"symbols-vs-defaults",level:3},{value:"<strong>Symbols (<code>default_symbols</code>)</strong>",id:"symbols-default_symbols",level:4},{value:"<strong>Defaults (<code>setting_defaults</code>)</strong>",id:"defaults-setting_defaults",level:4},{value:"4. Testing Your Profiles",id:"4-testing-your-profiles",level:2},{value:"5. Publishing",id:"5-publishing",level:2}];function h(e){const r={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.header,{children:(0,s.jsx)(r.h1,{id:"creating-vendor-profiles",children:"Creating Vendor Profiles"})}),"\n",(0,s.jsxs)(r.p,{children:["The ",(0,s.jsx)(r.strong,{children:(0,s.jsx)(r.a,{href:"http://svn.io-engineering.com:8080/",children:"grblHAL Web Builder"})})," allows vendors to provide pre-configured firmware options for their machines. This guide details how to create and host your own machine profiles."]}),"\n",(0,s.jsx)(r.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsx)(r.p,{children:"To list your machines in the Web Builder, you need to:"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Host a Repository:"})," Create a public GitHub repository to store your profiles."]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Create Profile Files:"})," Create JSON files defining the configuration for each machine."]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Create an Index:"})," Create a ",(0,s.jsx)(r.code,{children:"profiles.json"})," file that lists your available machines."]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Register:"})," Submit your repository to be added to the Web Builder's main list."]}),"\n"]}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h2,{id:"1-directory-structure",children:"1. Directory Structure"}),"\n",(0,s.jsxs)(r.p,{children:["We recommend a structure similar to the ",(0,s.jsx)(r.a,{href:"https://github.com/Sienci-Labs/grblhal-profiles",children:"Sienci Labs profiles"}),":"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-text",children:"my-grblhal-profiles/\r\n\u251c\u2500\u2500 profiles.json        # Main index file\r\n\u2514\u2500\u2500 profiles/            # Folder containing individual machine configurations\r\n    \u251c\u2500\u2500 my-router.json\r\n    \u2514\u2500\u2500 my-lathe.json\n"})}),"\n",(0,s.jsx)(r.h3,{id:"reference-implementation",children:"Reference Implementation"}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Sienci Labs"})," maintains a comprehensive repository of profiles for their machines (LongMill, AltMill) and generic configurations. You can use their repository as a template or reference for structuring your own files."]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"GitHub Repository:"})," ",(0,s.jsx)(r.a,{href:"https://github.com/Sienci-Labs/grblhal-profiles",children:"Sienci-Labs/grblhal-profiles"})]}),"\n"]}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsxs)(r.h2,{id:"2-the-index-file-profilesjson",children:["2. The Index File (",(0,s.jsx)(r.code,{children:"profiles.json"}),")"]}),"\n",(0,s.jsx)(r.p,{children:"This file tells the Web Builder which machines you offer. It must be located at the root of your repository."}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsxs)(r.strong,{children:["Example ",(0,s.jsx)(r.code,{children:"profiles.json"}),":"]})}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-json",children:'{\r\n  "machines": [\r\n    {\r\n      "name": "My CNC Router 3018",\r\n      "profileURL": "https://github.com/YourOrg/grblhal-profiles/blob/main/profiles/router3018.json",\r\n      "URL": "https://your-website.com/product/router3018",\r\n      "type": "router",\r\n      "description": "A beginner-friendly desktop CNC router."\r\n    },\r\n    {\r\n      "name": "Pro Lathe X1",\r\n      "profileURL": "https://github.com/YourOrg/grblhal-profiles/blob/main/profiles/lathe_x1.json",\r\n      "URL": "https://your-website.com/product/lathe-x1",\r\n      "type": "lathe",\r\n      "description": "High-precision turning center."\r\n    }\r\n  ]\r\n}\n'})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"profileURL:"})," The link to the individual JSON file (the builder will automatically convert this to a raw link)."]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"URL:"})," A link to your product page (optional)."]}),"\n"]}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h2,{id:"3-machine-profile-json",children:"3. Machine Profile JSON"}),"\n",(0,s.jsxs)(r.p,{children:["Each machine file (e.g., ",(0,s.jsx)(r.code,{children:"profiles/router3018.json"}),') defines the specific settings and compile-time options. It supports a base configuration and multiple "variants".']}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.strong,{children:"Structure:"})}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-json",children:'{\r\n  "machine": {\r\n    "default_driver": "STM32F4xx",\r\n    "default_board": "BOARD_MY_CUSTOM_V1",\r\n    "default_symbols": {\r\n      "NETWORKING_ENABLE": 1,\r\n      "SDCARD_ENABLE": 1\r\n    },\r\n    "setting_defaults": {\r\n      "DEFAULT_X_STEPS_PER_MM": 200,\r\n      "DEFAULT_X_MAX_RATE": 5000\r\n    }\r\n  },\r\n  "variants": [\r\n    {\r\n      "name": "Standard (3-Axis)",\r\n      "default_symbols": { "N_AXIS": 3 }\r\n    },\r\n    {\r\n      "name": "Pro (4-Axis)",\r\n      "default_symbols": { "N_AXIS": 4 },\r\n      "setting_defaults": { "DEFAULT_A_STEPS_PER_MM": 8.88 }\r\n    }\r\n  ]\r\n}\n'})}),"\n",(0,s.jsx)(r.h3,{id:"symbols-vs-defaults",children:"Symbols vs. Defaults"}),"\n",(0,s.jsxs)(r.p,{children:["It is crucial to understand the difference between ",(0,s.jsx)(r.strong,{children:"Symbols"})," and ",(0,s.jsx)(r.strong,{children:"Defaults"}),":"]}),"\n",(0,s.jsx)(r.h4,{id:"symbols-default_symbols",children:(0,s.jsxs)(r.strong,{children:["Symbols (",(0,s.jsx)(r.code,{children:"default_symbols"}),")"]})}),"\n",(0,s.jsxs)(r.p,{children:["These correspond to ",(0,s.jsx)(r.strong,{children:"Compile-Time options"})," (C Preprocessor ",(0,s.jsx)(r.code,{children:"#define"}),"). They determine ",(0,s.jsx)(r.em,{children:"what features are built into the firmware"}),"."]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Examples:"})," Enabling Wi-Fi, changing the number of axes, enabling specific plugins (Trinamic drivers, WebUI)."]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Impact:"})," Changing these requires re-compiling the firmware."]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Lookup:"})," These are the names found in ",(0,s.jsx)(r.code,{children:"my_machine.h"})," or usually prefixed with ",(0,s.jsx)(r.code,{children:"ENABLE_"})," in the code."]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Web Builder UI:"})," These symbols control which checkboxes and dropdowns are selected in the Web Builder interface."]}),"\n"]}),"\n",(0,s.jsx)(r.h4,{id:"defaults-setting_defaults",children:(0,s.jsxs)(r.strong,{children:["Defaults (",(0,s.jsx)(r.code,{children:"setting_defaults"}),")"]})}),"\n",(0,s.jsxs)(r.p,{children:["These correspond to ",(0,s.jsx)(r.strong,{children:"Runtime Settings"})," (EEPROM values). They set the ",(0,s.jsx)(r.em,{children:"default values"})," for ",(0,s.jsx)(r.code,{children:"$"})," settings (like Steps/mm), so the user doesn't have to manually configure them after flashing."]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Examples:"})," Steps per mm (",(0,s.jsx)(r.code,{children:"$100"}),"), Max Velocity (",(0,s.jsx)(r.code,{children:"$110"}),"), Pulse microseconds (",(0,s.jsx)(r.code,{children:"$0"}),")."]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Impact:"})," These values are loaded into the specific controller's defaults."]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Lookup:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsxs)(r.strong,{children:["Standard Settings (",(0,s.jsx)(r.code,{children:"$"}),"...):"]})," Look for ",(0,s.jsx)(r.code,{children:"#define"})," names in ",(0,s.jsx)(r.a,{href:"https://github.com/grblHAL/core/blob/master/config.h",children:"config.h"})," (e.g., ",(0,s.jsx)(r.code,{children:"DEFAULT_X_STEPS_PER_MM"}),")."]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsxs)(r.strong,{children:["Driver Settings (",(0,s.jsx)(r.code,{children:"$301"}),"...):"]})," Look for names in ",(0,s.jsx)(r.a,{href:"https://github.com/grblHAL/core/blob/master/driver_opts.h",children:"driver_opts.h"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h2,{id:"4-testing-your-profiles",children:"4. Testing Your Profiles"}),"\n",(0,s.jsx)(r.p,{children:"You can test your profiles using the development version of the Web Builder before submitting them."}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsx)(r.li,{children:"Push your changes to your GitHub repository."}),"\n",(0,s.jsxs)(r.li,{children:["Go to the ",(0,s.jsx)(r.strong,{children:(0,s.jsx)(r.a,{href:"https://svn.io-engineering.com:8443/index2.html?dev=1",children:"Web Builder (Dev Version)"})}),"."]}),"\n",(0,s.jsx)(r.li,{children:"Open the browser console (F12)."}),"\n",(0,s.jsxs)(r.li,{children:["You may need to manually invoke the loading function or use a URL parameter if supported (check ",(0,s.jsx)(r.code,{children:"index2.js"})," logic for ",(0,s.jsx)(r.code,{children:"vendor"})," parameters). ",(0,s.jsxs)(r.em,{children:["Note: The easiest way is currently to examine how ",(0,s.jsx)(r.code,{children:"drivers.json"})," loads vendors and simulate that process or request a test add."]})]}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"5-publishing",children:"5. Publishing"}),"\n",(0,s.jsxs)(r.p,{children:["Once your profiles are ready, you can request to be added to the official ",(0,s.jsx)(r.code,{children:"drivers.json"})," file used by the Web Builder. This is typically done by contacting the grblHAL maintainers or submitting a Pull Request to the repository hosting the Web Builder configuration."]})]})}function a(e={}){const{wrapper:r}={...(0,o.R)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},8453:(e,r,n)=>{n.d(r,{R:()=>l,x:()=>t});var i=n(6540);const s={},o=i.createContext(s);function l(e){const r=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function t(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),i.createElement(o.Provider,{value:r},e.children)}}}]);