"use strict";(self.webpackChunkgrblhal=self.webpackChunkgrblhal||[]).push([[981],{5543:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>a,frontMatter:()=>t,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"Core-Concepts/coordinate-systems","title":"Coordinate Systems","description":"Understanding coordinate systems is fundamental to CNC operation. Coordinate systems define how the machine interprets positions and movements. grblHAL supports multiple coordinate systems that work together to provide flexibility, accuracy, and ease of use.","source":"@site/docs/02-Core-Concepts/02-coordinate-systems.md","sourceDirName":"02-Core-Concepts","slug":"/Core-Concepts/coordinate-systems","permalink":"/grblhal_docs/Core-Concepts/coordinate-systems","draft":false,"unlisted":false,"editUrl":"https://github.com/PETERVANDERWALT/grblhal_docs/tree/main/docs/02-Core-Concepts/02-coordinate-systems.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"title":"Coordinate Systems"},"sidebar":"docsSidebar","previous":{"title":"Homing Explained","permalink":"/grblhal_docs/Core-Concepts/homing-explained"},"next":{"title":"Introduction to Calibration","permalink":"/grblhal_docs/Machine-Calibration/introduction"}}');var r=s(4848),o=s(8453);const t={title:"Coordinate Systems"},c="Coordinate Systems",l={},d=[{value:"The Big Picture: Two Main Coordinate Systems",id:"the-big-picture-two-main-coordinate-systems",level:2},{value:"Machine Coordinate System (MCS)",id:"machine-coordinate-system-mcs",level:2},{value:"Key Characteristics",id:"key-characteristics",level:3},{value:"Machine Zero Location",id:"machine-zero-location",level:3},{value:"When to Use Machine Coordinates",id:"when-to-use-machine-coordinates",level:3},{value:"Work Coordinate Systems (WCS)",id:"work-coordinate-systems-wcs",level:2},{value:"Why Work Coordinates Matter",id:"why-work-coordinates-matter",level:3},{value:"Available Work Coordinate Systems",id:"available-work-coordinate-systems",level:3},{value:"How Work Offsets Work",id:"how-work-offsets-work",level:2},{value:"The Math",id:"the-math",level:3},{value:"Setting Work Offsets",id:"setting-work-offsets",level:2},{value:"Method 1: Using <code>G10 L20</code> (Recommended)",id:"method-1-using-g10-l20-recommended",level:3},{value:"Method 2: Using <code>G10 L2</code> (Absolute Offset)",id:"method-2-using-g10-l2-absolute-offset",level:3},{value:"Method 3: Manual Entry (Sender-Specific)",id:"method-3-manual-entry-sender-specific",level:3},{value:"Viewing Work Offsets",id:"viewing-work-offsets",level:2},{value:"Practical Example: Multiple Parts",id:"practical-example-multiple-parts",level:2},{value:"Setup",id:"setup",level:3},{value:"Running the Job",id:"running-the-job",level:3},{value:"G92: Temporary Coordinate Offset",id:"g92-temporary-coordinate-offset",level:2},{value:"How G92 Works",id:"how-g92-works",level:3},{value:"When to Use G92",id:"when-to-use-g92",level:3},{value:"G92 Commands",id:"g92-commands",level:3},{value:"Position Display: WPos vs MPos",id:"position-display-wpos-vs-mpos",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"1. <strong>Always Use Work Coordinates for Machining</strong>",id:"1-always-use-work-coordinates-for-machining",level:3},{value:"2. <strong>Set Work Zero at a Consistent Location</strong>",id:"2-set-work-zero-at-a-consistent-location",level:3},{value:"3. <strong>Document Your Setup</strong>",id:"3-document-your-setup",level:3},{value:"4. <strong>Use G53 for Safety Moves</strong>",id:"4-use-g53-for-safety-moves",level:3},{value:"5. <strong>Verify Offsets Before Machining</strong>",id:"5-verify-offsets-before-machining",level:3},{value:"6. <strong>Avoid G92 Unless Necessary</strong>",id:"6-avoid-g92-unless-necessary",level:3},{value:"Common Coordinate System Mistakes",id:"common-coordinate-system-mistakes",level:2},{value:"Mistake 1: Using G53 Without Homing",id:"mistake-1-using-g53-without-homing",level:3},{value:"Mistake 2: Forgetting Active Work Offset",id:"mistake-2-forgetting-active-work-offset",level:3},{value:"Mistake 3: Setting Work Zero While in G91 (Incremental Mode)",id:"mistake-3-setting-work-zero-while-in-g91-incremental-mode",level:3},{value:"Quick Reference Commands",id:"quick-reference-commands",level:2},{value:"Coordinate System Hierarchy",id:"coordinate-system-hierarchy",level:2},{value:"Next Steps",id:"next-steps",level:2}];function h(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"coordinate-systems",children:"Coordinate Systems"})}),"\n",(0,r.jsxs)(n.p,{children:["Understanding coordinate systems is ",(0,r.jsx)(n.strong,{children:"fundamental"})," to CNC operation. Coordinate systems define how the machine interprets positions and movements. grblHAL supports multiple coordinate systems that work together to provide flexibility, accuracy, and ease of use."]}),"\n",(0,r.jsx)(n.p,{children:"This guide will explain the different coordinate systems, how they relate to each other, and how to use them effectively."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"the-big-picture-two-main-coordinate-systems",children:"The Big Picture: Two Main Coordinate Systems"}),"\n",(0,r.jsx)(n.p,{children:"CNC machines use two primary coordinate systems that work together:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Machine Coordinate System (MCS)"})," - The machine's fixed, absolute reference"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Work Coordinate System (WCS)"})," - Your workpiece's movable reference"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Think of it this way:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Machine coordinates"})," = Where the machine thinks it is in its physical space"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Work coordinates"})," = Where the tool is relative to your workpiece"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"machine-coordinate-system-mcs",children:"Machine Coordinate System (MCS)"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.strong,{children:"Machine Coordinate System"})," is the machine's absolute, fixed reference frame. It never changes."]}),"\n",(0,r.jsx)(n.h3,{id:"key-characteristics",children:"Key Characteristics"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Origin (Machine Zero):"})," Established by the homing cycle (",(0,r.jsx)(n.code,{children:"$H"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Fixed:"})," Does not change unless you re-home the machine"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Absolute:"})," Always represents the machine's physical position"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsxs)(n.strong,{children:["Accessed with ",(0,r.jsx)(n.code,{children:"G53"}),":"]})," Bypasses all work offsets"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"machine-zero-location",children:"Machine Zero Location"}),"\n",(0,r.jsx)(n.p,{children:"Machine zero is typically located at one of the machine's physical limits:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"X/Y:"})," Usually at the ",(0,r.jsx)(n.strong,{children:"back-right"})," corner. This means the working area is typically in negative coordinates. (Exceptions exist for machines configured with ",(0,r.jsx)(n.code,{children:"HOMING_FORCE_SET_ORIGIN"}),", where zero depends on switch locations)."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Z:"})," Usually at the top (maximum Z height)."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"After homing, machine position might be:\nMPos: 0.000, 0.000, 0.000\n"})}),"\n",(0,r.jsx)(n.h3,{id:"when-to-use-machine-coordinates",children:"When to Use Machine Coordinates"}),"\n",(0,r.jsxs)(n.p,{children:["Use ",(0,r.jsx)(n.code,{children:"G53"})," (machine coordinate system) when you need to move to a ",(0,r.jsx)(n.strong,{children:"fixed physical location"})," on the machine:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Tool changes"})," - Move to a fixed tool change position"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Parking"})," - Move to a safe parking location"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Probing"})," - Move to a fixed probe location"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Safety"})," - Retract to a known safe height"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gcode",children:"G53 G0 Z0        ; Rapid to machine Z-zero (top)\nG53 G0 X0 Y0     ; Rapid to machine X/Y zero\n"})}),"\n",(0,r.jsx)(n.admonition,{title:"Important",type:"danger",children:(0,r.jsxs)(n.p,{children:[(0,r.jsxs)(n.strong,{children:["Only use ",(0,r.jsx)(n.code,{children:"G53"})," after homing!"]})," Machine coordinates are meaningless if the machine hasn't been homed. Using ",(0,r.jsx)(n.code,{children:"G53"})," without homing can cause crashes."]})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"work-coordinate-systems-wcs",children:"Work Coordinate Systems (WCS)"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.strong,{children:"Work Coordinate System"})," is a user-defined coordinate system that represents your workpiece's position and orientation. This is where you do all your actual machining."]}),"\n",(0,r.jsx)(n.h3,{id:"why-work-coordinates-matter",children:"Why Work Coordinates Matter"}),"\n",(0,r.jsx)(n.p,{children:"Imagine you're machining a part. Your CAM software generates G-code assuming the part's origin is at a specific location (e.g., the front-left corner). But when you clamp the part on your machine table, it could be anywhere!"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Work offsets"})," solve this problem by telling the machine: ",(0,r.jsx)(n.em,{children:'"The part\'s origin is at this location relative to machine zero."'})]}),"\n",(0,r.jsx)(n.h3,{id:"available-work-coordinate-systems",children:"Available Work Coordinate Systems"}),"\n",(0,r.jsxs)(n.p,{children:["grblHAL supports ",(0,r.jsx)(n.strong,{children:"multiple work coordinate systems"}),", allowing you to have several parts or setups loaded simultaneously:"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"G-Code"}),(0,r.jsx)(n.th,{children:"Work Offset"}),(0,r.jsx)(n.th,{children:"Common Use"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"G54"})})}),(0,r.jsx)(n.td,{children:"Work Offset 1"}),(0,r.jsx)(n.td,{children:"Primary/default workpiece"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"G55"})})}),(0,r.jsx)(n.td,{children:"Work Offset 2"}),(0,r.jsx)(n.td,{children:"Second workpiece or setup"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"G56"})})}),(0,r.jsx)(n.td,{children:"Work Offset 3"}),(0,r.jsx)(n.td,{children:"Third workpiece"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"G57"})})}),(0,r.jsx)(n.td,{children:"Work Offset 4"}),(0,r.jsx)(n.td,{children:"Fourth workpiece"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"G58"})})}),(0,r.jsx)(n.td,{children:"Work Offset 5"}),(0,r.jsx)(n.td,{children:"Fifth workpiece"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"G59"})})}),(0,r.jsx)(n.td,{children:"Work Offset 6"}),(0,r.jsx)(n.td,{children:"Sixth workpiece"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"G59.1"})})}),(0,r.jsx)(n.td,{children:"Work Offset 7"}),(0,r.jsx)(n.td,{children:"Extended offset 1"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"G59.2"})})}),(0,r.jsx)(n.td,{children:"Work Offset 8"}),(0,r.jsx)(n.td,{children:"Extended offset 2"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"G59.3"})})}),(0,r.jsx)(n.td,{children:"Work Offset 9"}),(0,r.jsx)(n.td,{children:"Extended offset 3"})]})]})]}),"\n",(0,r.jsx)(n.admonition,{title:"Default",type:"info",children:(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"G54"})," is the ",(0,r.jsx)(n.strong,{children:"default"})," work coordinate system. When you power on grblHAL, G54 is automatically active."]})}),"\n",(0,r.jsxs)(n.admonition,{title:"Special Use: G59.3",type:"warning",children:[(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"G59.3 (Work Offset 9)"})," has a special role in grblHAL's ",(0,r.jsx)(n.strong,{children:"Tool Change"})," logic."]}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["If ",(0,r.jsx)(n.strong,{children:"Tool Change Mode"})," (",(0,r.jsx)(n.code,{children:"$341"}),") is set to ",(0,r.jsx)(n.strong,{children:"2"})," or ",(0,r.jsx)(n.strong,{children:"3"}),", grblHAL uses ",(0,r.jsx)(n.code,{children:"G59.3"})," as the dedicated location for tool probing/touch-off."]}),"\n",(0,r.jsxs)(n.li,{children:["In these modes, do not use ",(0,r.jsx)(n.code,{children:"G59.3"})," for regular workpieces, or your setup will be overwritten during tool changes."]}),"\n"]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"how-work-offsets-work",children:"How Work Offsets Work"}),"\n",(0,r.jsxs)(n.p,{children:["A work offset is simply a ",(0,r.jsx)(n.strong,{children:"translation"})," (shift) applied to all programmed coordinates."]}),"\n",(0,r.jsx)(n.h3,{id:"the-math",children:"The Math"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Machine Position = Work Position + Work Offset\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Work Offset (G54): X=100, Y=50, Z=10"}),"\n",(0,r.jsx)(n.li,{children:"Programmed Position: X=20, Y=30, Z=-5"}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Actual Machine Position:"})," X=120, Y=80, Z=5"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["When you command ",(0,r.jsx)(n.code,{children:"G0 X20 Y30"}),", the machine actually moves to machine coordinates X=120, Y=80."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"setting-work-offsets",children:"Setting Work Offsets"}),"\n",(0,r.jsx)(n.p,{children:"There are several ways to set work offsets in grblHAL:"}),"\n",(0,r.jsxs)(n.h3,{id:"method-1-using-g10-l20-recommended",children:["Method 1: Using ",(0,r.jsx)(n.code,{children:"G10 L20"})," (Recommended)"]}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"G10 L20"})," command sets the work offset so that the ",(0,r.jsx)(n.strong,{children:"current machine position"})," becomes the specified work coordinate."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Syntax:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gcode",children:"G10 L20 P<offset_number> X<value> Y<value> Z<value>\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"P"})," = Offset number (1=G54, 2=G55, 3=G56, etc.)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"X"}),", ",(0,r.jsx)(n.code,{children:"Y"}),", ",(0,r.jsx)(n.code,{children:"Z"})," = The work coordinates you want at the current position"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gcode",children:"; Move to the front-left corner of your workpiece\nG0 X100 Y50 Z10  ; (in machine coordinates)\n\n; Set this position as X0 Y0 Z0 in G54\nG10 L20 P1 X0 Y0 Z0\n\n; Now the current position is work coordinate 0,0,0\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"method-2-using-g10-l2-absolute-offset",children:["Method 2: Using ",(0,r.jsx)(n.code,{children:"G10 L2"})," (Absolute Offset)"]}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"G10 L2"})," command sets the work offset to an ",(0,r.jsx)(n.strong,{children:"absolute value"})," in machine coordinates."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Syntax:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gcode",children:"G10 L2 P<offset_number> X<value> Y<value> Z<value>\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gcode",children:"; Set G54 origin to machine position X=100, Y=50, Z=10\nG10 L2 P1 X100 Y50 Z10\n"})}),"\n",(0,r.jsx)(n.h3,{id:"method-3-manual-entry-sender-specific",children:"Method 3: Manual Entry (Sender-Specific)"}),"\n",(0,r.jsx)(n.p,{children:'Most G-code senders have a "Set Work Zero" or "Zero XYZ" button that:'}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Reads the current machine position"}),"\n",(0,r.jsx)(n.li,{children:"Sets the active work offset so that position = 0,0,0"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Typical workflow:"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Jog to your workpiece origin (e.g., front-left corner, top surface)"}),"\n",(0,r.jsx)(n.li,{children:'Click "Zero X", "Zero Y", "Zero Z" (or "Zero All")'}),"\n",(0,r.jsxs)(n.li,{children:["The sender sends ",(0,r.jsx)(n.code,{children:"G10 L20 P1 X0 Y0 Z0"})," for you"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"viewing-work-offsets",children:"Viewing Work Offsets"}),"\n",(0,r.jsx)(n.p,{children:"To see all current work offset values, send:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"$#\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example output:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"[G54:100.000,50.000,10.000]\n[G55:200.000,50.000,10.000]\n[G56:300.000,50.000,10.000]\n[G57:0.000,0.000,0.000]\n[G58:0.000,0.000,0.000]\n[G59:0.000,0.000,0.000]\n[G28:0.000,0.000,0.000]\n[G30:0.000,0.000,0.000]\n[G92:0.000,0.000,0.000]\n[TLO:0.000]\n[PRB:0.000,0.000,0.000:0]\n"})}),"\n",(0,r.jsx)(n.p,{children:"This shows:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"G54 origin is at machine position X=100, Y=50, Z=10"}),"\n",(0,r.jsx)(n.li,{children:"G55 origin is at machine position X=200, Y=50, Z=10"}),"\n",(0,r.jsx)(n.li,{children:"G56 origin is at machine position X=300, Y=50, Z=10"}),"\n",(0,r.jsx)(n.li,{children:"G57-G59 are not set (0,0,0)"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"practical-example-multiple-parts",children:"Practical Example: Multiple Parts"}),"\n",(0,r.jsx)(n.p,{children:"Let's say you're machining 3 identical parts on your table:"}),"\n",(0,r.jsx)(n.h3,{id:"setup",children:"Setup"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Home the machine:"})," ",(0,r.jsx)(n.code,{children:"$H"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Clamp three parts"})," at different locations on the table"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Set work offsets"})," for each part:"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gcode",children:"; Part 1 (G54)\nG0 X100 Y50 Z10      ; Jog to Part 1 origin\nG10 L20 P1 X0 Y0 Z0  ; Set G54\n\n; Part 2 (G55)\nG0 X250 Y50 Z10      ; Jog to Part 2 origin\nG10 L20 P2 X0 Y0 Z0  ; Set G55\n\n; Part 3 (G56)\nG0 X400 Y50 Z10      ; Jog to Part 3 origin\nG10 L20 P3 X0 Y0 Z0  ; Set G56\n"})}),"\n",(0,r.jsx)(n.h3,{id:"running-the-job",children:"Running the Job"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gcode",children:"; Machine Part 1\nG54              ; Select Part 1 coordinate system\nM98 P100         ; Call machining program (P100.macro)\n\n; Machine Part 2\nG55              ; Select Part 2 coordinate system\nM98 P100         ; Call same program, different location\n\n; Machine Part 3\nG56              ; Select Part 3 coordinate system\nM98 P100         ; Call same program again\n\nM30              ; End program\n"})}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.strong,{children:"same G-code program"})," runs three times, but at three different physical locations thanks to work offsets!"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"g92-temporary-coordinate-offset",children:"G92: Temporary Coordinate Offset"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"G92"})," is a ",(0,r.jsx)(n.strong,{children:"temporary, volatile"})," coordinate offset that's applied ",(0,r.jsx)(n.strong,{children:"on top of"})," the active work coordinate system (G54-G59)."]}),"\n",(0,r.jsx)(n.h3,{id:"how-g92-works",children:"How G92 Works"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Final Position = Work Position + Work Offset (G54) + G92 Offset\n"})}),"\n",(0,r.jsx)(n.h3,{id:"when-to-use-g92",children:"When to Use G92"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Rotary axis zeroing"})," - Reset A/B/C axis to 0\xb0 at current position"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Legacy G-code"})," - Some old CAM posts use G92"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Quick adjustments"})," - Temporary shift without changing work offset"]}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{type:"warning",children:(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"G92"})," is ",(0,r.jsx)(n.strong,{children:"easy to forget"})," and can cause crashes. Modern practice favors using dedicated work coordinate systems (G54-G59) instead of G92."]})}),"\n",(0,r.jsx)(n.h3,{id:"g92-commands",children:"G92 Commands"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Command"}),(0,r.jsx)(n.th,{children:"Action"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"G92 X0 Y0 Z0"})}),(0,r.jsx)(n.td,{children:"Set current position as 0,0,0 (temporary)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"G92.1"})}),(0,r.jsx)(n.td,{children:"Cancel G92 offset"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"G92.2"})}),(0,r.jsx)(n.td,{children:"Suspend G92 offset"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"G92.3"})}),(0,r.jsx)(n.td,{children:"Restore suspended G92 offset"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gcode",children:"G54              ; Using G54 work offset\nG0 X10 Y10       ; Move to X=10, Y=10 in G54\nG92 X0 Y0        ; Call this position 0,0 (G92 offset applied)\nG0 X5 Y5         ; Move to X=5, Y=5 (relative to G92)\nG92.1            ; Cancel G92, back to normal G54\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"position-display-wpos-vs-mpos",children:"Position Display: WPos vs MPos"}),"\n",(0,r.jsxs)(n.p,{children:["When you query position with ",(0,r.jsx)(n.code,{children:"?"}),", you'll see two types of coordinates:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"<Idle|WPos:10.000,20.000,5.000|MPos:110.000,70.000,15.000>\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"WPos"})})," (Work Position): Position in the active work coordinate system"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"MPos"})})," (Machine Position): Absolute machine position"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Relationship:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"MPos = WPos + Active Work Offset\n"})}),"\n",(0,r.jsx)(n.p,{children:"In this example:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Work position: X=10, Y=20, Z=5"}),"\n",(0,r.jsx)(n.li,{children:"Machine position: X=110, Y=70, Z=15"}),"\n",(0,r.jsx)(n.li,{children:"Therefore, work offset (G54) is: X=100, Y=50, Z=10"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,r.jsxs)(n.h3,{id:"1-always-use-work-coordinates-for-machining",children:["1. ",(0,r.jsx)(n.strong,{children:"Always Use Work Coordinates for Machining"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Bad:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gcode",children:"G53 G0 X150 Y200  ; Using machine coordinates for cutting\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Good:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gcode",children:"G54               ; Select work coordinate system\nG0 X50 Y100       ; Use work coordinates\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"2-set-work-zero-at-a-consistent-location",children:["2. ",(0,r.jsx)(n.strong,{children:"Set Work Zero at a Consistent Location"})]}),"\n",(0,r.jsx)(n.p,{children:"Choose a repeatable reference point on your workpiece:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Front-left corner, top surface"})," (most common)"]}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"Center of part, top surface"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"Center of a hole or feature"})}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"3-document-your-setup",children:["3. ",(0,r.jsx)(n.strong,{children:"Document Your Setup"})]}),"\n",(0,r.jsx)(n.p,{children:"Keep notes on:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Which work offset (G54-G59) is used for which part/setup"}),"\n",(0,r.jsx)(n.li,{children:"Where the work zero is located on the part"}),"\n",(0,r.jsx)(n.li,{children:"Any special considerations (rotated parts, fixtures, etc.)"}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"4-use-g53-for-safety-moves",children:["4. ",(0,r.jsx)(n.strong,{children:"Use G53 for Safety Moves"})]}),"\n",(0,r.jsxs)(n.p,{children:["Always use ",(0,r.jsx)(n.code,{children:"G53"})," for moves to fixed machine locations:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gcode",children:"G53 G0 Z0        ; Retract to machine top (safe)\nT2 M6            ; Tool change\nG53 G0 X0 Y0     ; Move to tool change position\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"5-verify-offsets-before-machining",children:["5. ",(0,r.jsx)(n.strong,{children:"Verify Offsets Before Machining"})]}),"\n",(0,r.jsx)(n.p,{children:"After setting work offsets:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Jog to work zero: ",(0,r.jsx)(n.code,{children:"G0 X0 Y0 Z0"})]}),"\n",(0,r.jsx)(n.li,{children:"Verify the tool is at the expected location"}),"\n",(0,r.jsx)(n.li,{children:"Test with air cuts before actual machining"}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"6-avoid-g92-unless-necessary",children:["6. ",(0,r.jsx)(n.strong,{children:"Avoid G92 Unless Necessary"})]}),"\n",(0,r.jsx)(n.p,{children:"Use G54-G59 work offsets instead of G92 for better clarity and safety."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"common-coordinate-system-mistakes",children:"Common Coordinate System Mistakes"}),"\n",(0,r.jsx)(n.h3,{id:"mistake-1-using-g53-without-homing",children:"Mistake 1: Using G53 Without Homing"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gcode",children:"; Machine not homed!\nG53 G0 Z0  ; CRASH! Machine doesn't know where Z0 is\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Fix:"})," Always home first: ",(0,r.jsx)(n.code,{children:"$H"})]}),"\n",(0,r.jsx)(n.h3,{id:"mistake-2-forgetting-active-work-offset",children:"Mistake 2: Forgetting Active Work Offset"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gcode",children:"G55              ; Switch to G55\n; ... do some work ...\n; Forget that G55 is still active\nG0 X0 Y0         ; Oops! Moving to G55 zero, not G54 zero\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Fix:"})," Explicitly set work offset at start of program:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gcode",children:"G54              ; Always specify which offset to use\nG0 X0 Y0\n"})}),"\n",(0,r.jsx)(n.h3,{id:"mistake-3-setting-work-zero-while-in-g91-incremental-mode",children:"Mistake 3: Setting Work Zero While in G91 (Incremental Mode)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gcode",children:"G91              ; Incremental mode\nG10 L20 P1 X0    ; This won't work as expected!\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Fix:"})," Always use ",(0,r.jsx)(n.code,{children:"G90"})," (absolute mode) when setting work offsets:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-gcode",children:"G90              ; Absolute mode\nG10 L20 P1 X0 Y0 Z0\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"quick-reference-commands",children:"Quick Reference Commands"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Command"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"G54"})," - ",(0,r.jsx)(n.code,{children:"G59"})]}),(0,r.jsx)(n.td,{children:"Select work coordinate system 1-6"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"G59.1"})," - ",(0,r.jsx)(n.code,{children:"G59.3"})]}),(0,r.jsx)(n.td,{children:"Select work coordinate system 7-9"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"G53"})}),(0,r.jsx)(n.td,{children:"Use machine coordinate system (one-shot)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"G10 L20 P<n> X- Y- Z-"})}),(0,r.jsx)(n.td,{children:"Set work offset (current position method)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"G10 L2 P<n> X- Y- Z-"})}),(0,r.jsx)(n.td,{children:"Set work offset (absolute method)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"$#"})}),(0,r.jsx)(n.td,{children:"View all coordinate offsets"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"G92 X- Y- Z-"})}),(0,r.jsx)(n.td,{children:"Set temporary offset"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"G92.1"})}),(0,r.jsx)(n.td,{children:"Cancel G92 offset"})]})]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"coordinate-system-hierarchy",children:"Coordinate System Hierarchy"}),"\n",(0,r.jsx)(n.p,{children:"Understanding the order of coordinate transformations:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"1. Machine Coordinates (MCS)\n   \u2193\n2. + Work Offset (G54-G59)\n   \u2193\n3. + G92 Temporary Offset\n   \u2193\n4. + Tool Length Offset (G43)\n   \u2193\n5. = Final Tool Position\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Machine position: X=100"}),"\n",(0,r.jsx)(n.li,{children:"G54 offset: X=50"}),"\n",(0,r.jsx)(n.li,{children:"G92 offset: X=10"}),"\n",(0,r.jsx)(n.li,{children:"Tool length offset: Z=25"}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Final position:"})," X=160, Z=25"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,r.jsx)(n.p,{children:"Now that you understand coordinate systems:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Practice setting work offsets"})," - Set up a simple part and practice zeroing"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Learn about tool offsets"})," - See ",(0,r.jsx)(n.a,{href:"/grblhal_docs/Guides/automatic-tool-changer",children:"Automatic Tool Changer"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Explore probing"})," - Automate work offset setup with ",(0,r.jsx)(n.a,{href:"/grblhal_docs/Guides/probing",children:"Probing"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Study G-code"})," - See ",(0,r.jsx)(n.a,{href:"/grblhal_docs/Reference/complete-g-m-code-reference",children:"Complete G-code Reference"})]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.admonition,{title:"Pro Tip",type:"tip",children:[(0,r.jsx)(n.p,{children:'Many CNC operators create a "setup sheet" template that documents:'}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Part name and revision"}),"\n",(0,r.jsx)(n.li,{children:"Work offset used (G54, G55, etc.)"}),"\n",(0,r.jsx)(n.li,{children:"Work zero location on the part"}),"\n",(0,r.jsx)(n.li,{children:"Tool list with lengths"}),"\n",(0,r.jsx)(n.li,{children:"Material and stock size"}),"\n"]}),(0,r.jsx)(n.p,{children:"This makes setups repeatable and reduces errors!"}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.a,{href:"pathname:///files/cnc-setup-sheet.html",children:"Download our Printable CNC Setup Sheet"})})," (Open link, then standardized Print to PDF)"]})]})]})}function a(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>c});var i=s(6540);const r={},o=i.createContext(r);function t(e){const n=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);