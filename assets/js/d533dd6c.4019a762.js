"use strict";(self.webpackChunkgrblhal=self.webpackChunkgrblhal||[]).push([[433],{7599:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>t,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"Machine-Calibration/calibrating-steps","title":"Calibrating Steps per Unit","description":"Steps per Unit (usually Steps per mm) is the setting that tells grblHAL how many motor steps are required to move an axis exactly 1 millimeter (or inch).","source":"@site/docs/03-Machine-Calibration/02-calibrating-steps.md","sourceDirName":"03-Machine-Calibration","slug":"/Machine-Calibration/calibrating-steps","permalink":"/grblhal_docs/Machine-Calibration/calibrating-steps","draft":false,"unlisted":false,"editUrl":"https://github.com/PETERVANDERWALT/grblhal_docs/tree/main/docs/03-Machine-Calibration/02-calibrating-steps.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"title":"Calibrating Steps per Unit"},"sidebar":"docsSidebar","previous":{"title":"Introduction to Calibration","permalink":"/grblhal_docs/Machine-Calibration/introduction"},"next":{"title":"Tuning Jerk & Acceleration","permalink":"/grblhal_docs/Machine-Calibration/jerk-tuning"}}');var i=s(4848),l=s(8453);const t={title:"Calibrating Steps per Unit"},o="Calibrating Steps per Unit",c={},a=[{value:"The Formula",id:"the-formula",level:2},{value:"Step-by-Step Calibration",id:"step-by-step-calibration",level:2},{value:"<strong>Material Needed</strong>",id:"material-needed",level:3},{value:"<strong>Procedure (Do for X, Y, and Z axes)</strong>",id:"procedure-do-for-x-y-and-z-axes",level:3},{value:"Tips for Accuracy",id:"tips-for-accuracy",level:2},{value:"<strong>Use the Longest Distance Possible</strong>",id:"use-the-longest-distance-possible",level:3},{value:"<strong>Account for Backlash</strong>",id:"account-for-backlash",level:3},{value:"<strong>Don&#39;t Forget Z-Axis</strong>",id:"dont-forget-z-axis",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"<strong>My dimensions are consistently off by exactly half or double.</strong>",id:"my-dimensions-are-consistently-off-by-exactly-half-or-double",level:3},{value:"<strong>My circles are ovals.</strong>",id:"my-circles-are-ovals",level:3},{value:"<strong>I updated the steps, but it got worse.</strong>",id:"i-updated-the-steps-but-it-got-worse",level:3}];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"calibrating-steps-per-unit",children:"Calibrating Steps per Unit"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Steps per Unit"})," (usually Steps per mm) is the setting that tells grblHAL how many motor steps are required to move an axis exactly 1 millimeter (or inch)."]}),"\n",(0,i.jsx)(n.p,{children:"If this value is wrong, your parts will come out the wrong size. E.g., a designed 100mm square might cut as 98mm or 102mm."}),"\n",(0,i.jsx)(n.h2,{id:"the-formula",children:"The Formula"}),"\n",(0,i.jsx)(n.p,{children:"The calibration process is simple math:"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"New Steps = Current Steps * (Commanded Distance / Measured Distance)"})}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Where:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Current Steps:"})," The current ",(0,i.jsx)(n.code,{children:"$100"}),", ",(0,i.jsx)(n.code,{children:"$101"}),", or ",(0,i.jsx)(n.code,{children:"$102"})," setting value."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Commanded Distance:"})," How far you told the machine to move (e.g., 100mm)."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Measured Distance:"})," How far the machine ",(0,i.jsx)(n.em,{children:"actually"})," moved."]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"step-by-step-calibration",children:"Step-by-Step Calibration"}),"\n",(0,i.jsx)(n.h3,{id:"material-needed",children:(0,i.jsx)(n.strong,{children:"Material Needed"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"A reliable ruler, tape measure, or digital caliper."}),"\n",(0,i.jsx)(n.li,{children:"A pointed tool (V-bit) or a fine marker attached to the spindle/tool holder."}),"\n",(0,i.jsx)(n.li,{children:"A piece of scrap material (MDF, wood, or paper tape on the bed)."}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"procedure-do-for-x-y-and-z-axes",children:(0,i.jsx)(n.strong,{children:"Procedure (Do for X, Y, and Z axes)"})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Check Current Settings:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Send ",(0,i.jsx)(n.code,{children:"$$"})," in the console."]}),"\n",(0,i.jsxs)(n.li,{children:["Note down the current values for:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"$100"})," (X-axis steps/mm)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"$101"})," (Y-axis steps/mm)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"$102"})," (Z-axis steps/mm)"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Set a Starting Point:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Jog the machine to a starting position."}),"\n",(0,i.jsx)(n.li,{children:"Mark this spot preciseley on your material (or zero your caliper)."}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Zero the axis"}),' in your sender software (e.g., click "Zero X").']}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Command a Move:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Move the axis a specific distance. ",(0,i.jsx)(n.strong,{children:"The longer, the better."})]}),"\n",(0,i.jsxs)(n.li,{children:["Example command: ",(0,i.jsx)(n.code,{children:"G0 X100"})," (Move X axis 100mm)."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Measure Actual Movement:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Using your ruler or caliper, measure exactly how far the machine moved from the start point."}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.em,{children:"Example:"})," You commanded 100mm, but measured 98.5mm."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Calculate New Steps:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Use the formula:","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"New Steps = Current Steps * (100 / 98.5)\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.em,{children:"Example:"})," If ",(0,i.jsx)(n.code,{children:"$100 = 40.000"}),":","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"New Steps = 40.000 * 1.0152 = 40.609\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Update Firmware:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Send the new value to the controller:","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"$100=40.609\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Verify:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Re-zero the axis."}),"\n",(0,i.jsxs)(n.li,{children:["Command the move again (e.g., ",(0,i.jsx)(n.code,{children:"G0 X100"}),")."]}),"\n",(0,i.jsx)(n.li,{children:"Measure again. It should now be dead-on 100mm."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"tips-for-accuracy",children:"Tips for Accuracy"}),"\n",(0,i.jsx)(n.h3,{id:"use-the-longest-distance-possible",children:(0,i.jsx)(n.strong,{children:"Use the Longest Distance Possible"})}),"\n",(0,i.jsx)(n.p,{children:"Measuring error is constant (e.g., \xb10.5mm with a ruler)."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Over 10mm, a 0.5mm error is ",(0,i.jsx)(n.strong,{children:"5%"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Over 100mm, a 0.5mm error is ",(0,i.jsx)(n.strong,{children:"0.5%"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Over 500mm, a 0.5mm error is ",(0,i.jsx)(n.strong,{children:"0.1%"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Calibrate using the longest travel your machine and measuring tool allow."})}),"\n",(0,i.jsx)(n.h3,{id:"account-for-backlash",children:(0,i.jsx)(n.strong,{children:"Account for Backlash"})}),"\n",(0,i.jsx)(n.p,{children:"If your axis has backlash (loose fitting screws/belts):"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Always approach your start point and end point from the ",(0,i.jsx)(n.strong,{children:"same direction"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Example:","\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Jog X+ to position."}),"\n",(0,i.jsx)(n.li,{children:"Mark Start."}),"\n",(0,i.jsx)(n.li,{children:"Command Move X+ 100mm."}),"\n",(0,i.jsx)(n.li,{children:"Mark End."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"This removes backlash from the measurement equation."}),"\n",(0,i.jsx)(n.h3,{id:"dont-forget-z-axis",children:(0,i.jsx)(n.strong,{children:"Don't Forget Z-Axis"})}),"\n",(0,i.jsx)(n.p,{children:"Calibrating Z is critical for accurate pocket depths."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Use a dial indicator or touch off the top of a block, move Z up, place a precision 1-2-3 block, and touch off again."}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,i.jsx)(n.h3,{id:"my-dimensions-are-consistently-off-by-exactly-half-or-double",children:(0,i.jsx)(n.strong,{children:"My dimensions are consistently off by exactly half or double."})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Cause:"})," Incorrect microstepping setting on stepper drivers vs. firmware."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Fix:"})," Check your DIP switches on the stepper driver and double check your expected steps/mm calculation."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"my-circles-are-ovals",children:(0,i.jsx)(n.strong,{children:"My circles are ovals."})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Cause:"})," X and Y steps/mm are not calibrated equally, or severe backlash."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Fix:"})," Calibrate X and Y independently. Check for loose belts."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"i-updated-the-steps-but-it-got-worse",children:(0,i.jsx)(n.strong,{children:"I updated the steps, but it got worse."})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Cause:"})," You likely inverted the formula (Measured / Commanded instead of Commanded / Measured)."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Fix:"})," Flip the fraction and recalculate.","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Remember: If it moved ",(0,i.jsx)(n.strong,{children:"short"}),", you need ",(0,i.jsx)(n.strong,{children:"more"})," steps (ratio > 1)."]}),"\n",(0,i.jsxs)(n.li,{children:["If it moved ",(0,i.jsx)(n.strong,{children:"long"}),", you need ",(0,i.jsx)(n.strong,{children:"fewer"})," steps (ratio < 1)."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Next Step:"})," Once your machine moves accurately, let's make it move smoothly: ",(0,i.jsx)(n.a,{href:"/grblhal_docs/Machine-Calibration/tuning-motion",children:"Tuning Motion Settings"})]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>o});var r=s(6540);const i={},l=r.createContext(i);function t(e){const n=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),r.createElement(l.Provider,{value:n},e.children)}}}]);